# 심층 사고 모드 (--deep-think)

복잡한 문제에 대해 여러 관점에서 깊이 있게 분석하는 모드입니다.

## 활성화

```
/research --deep-think 아키텍처
"이 문제 분석해줘 --deep-think"
```

## 동작 원칙

### 1. 다중 관점 분석

```markdown
## 관점 프레임워크

### 기술적 관점
- 구현 가능성
- 성능 영향
- 기술 부채

### 비즈니스 관점
- 비용/편익
- 시장 적합성
- 경쟁 우위

### 운영 관점
- 유지보수성
- 모니터링
- 장애 대응

### 보안 관점
- 위협 모델
- 취약점
- 컴플라이언스
```

### 2. 심층 분석 계층

```markdown
## 분석 깊이

Level 1: 표면 분석
└── 무엇이 문제인가?

Level 2: 원인 분석
└── 왜 이 문제가 발생했는가?

Level 3: 구조 분석
└── 어떤 구조적 요인이 있는가?

Level 4: 시스템 분석
└── 시스템 전체에 어떤 영향을 미치는가?

Level 5: 근본 분석
└── 근본적인 가정과 제약은 무엇인가?
```

### 3. What-If 시나리오

```markdown
## 시나리오 분석

### 시나리오 A: 현상 유지
- 결과: [예상 결과]
- 리스크: [리스크]
- 확률: 높음

### 시나리오 B: 점진적 개선
- 결과: [예상 결과]
- 리스크: [리스크]
- 확률: 중간

### 시나리오 C: 전면 재설계
- 결과: [예상 결과]
- 리스크: [리스크]
- 확률: 낮음

### 최적 시나리오
[분석 기반 권장 시나리오]
```

### 4. 반론 및 검증

```markdown
## 비판적 검토

### 주장
[분석 결론]

### 반론
1. [반론 1] - 반박: [반박]
2. [반론 2] - 반박: [반박]
3. [반론 3] - 유효함, 조건부 수용

### 검증 방법
- [검증 방법 1]
- [검증 방법 2]

### 수정된 결론
[반론을 고려한 결론]
```

## 출력 형식

### 심층 분석 보고서

```markdown
# 🔬 심층 분석: [주제]

## 문제 정의

### 표면적 문제
[관찰된 현상]

### 근본 문제
[분석된 근본 원인]

---

## 다중 관점 분석

### 🔧 기술적 관점
**현황**: [현재 상태]
**문제점**:
- [문제 1]
- [문제 2]
**기회**:
- [기회 1]

### 💼 비즈니스 관점
**현황**: [현재 상태]
**비용 분석**:
- 현재 비용: [비용]
- 개선 시: [예상 비용]
**ROI**: [투자 대비 수익]

### 🔒 보안 관점
**위협 모델**:
- [위협 1]: 가능성 중/영향 높음
- [위협 2]: 가능성 낮음/영향 높음
**권장 조치**: [조치]

### 🔄 운영 관점
**복잡도**: 중간
**모니터링 필요**: 예
**장애 영향**: 서비스 중단 가능

---

## 원인 분석 (5 Why)

```
Why 1: 왜 성능이 저하되는가?
→ DB 쿼리가 느리다

Why 2: 왜 쿼리가 느린가?
→ 인덱스가 없다

Why 3: 왜 인덱스가 없는가?
→ 초기 설계 시 고려 안 됨

Why 4: 왜 고려되지 않았나?
→ 데이터 규모 예측 부족

Why 5: 왜 예측이 부족했나?
→ 사용 패턴 분석 없이 설계
```

**근본 원인**: 데이터 중심 설계 부재

---

## 시나리오 분석

### 📊 시나리오 비교

| 시나리오 | 비용 | 시간 | 리스크 | 효과 |
|----------|------|------|--------|------|
| A: 현상유지 | 0 | 0 | 높음 | 없음 |
| B: 인덱스 추가 | 낮음 | 1일 | 낮음 | 중간 |
| C: 캐싱 도입 | 중간 | 1주 | 중간 | 높음 |
| D: 아키텍처 변경 | 높음 | 1월 | 높음 | 매우높음 |

### 권장 시나리오: B + C (하이브리드)
- 단기: 인덱스 추가로 즉각적 개선
- 중기: 캐싱으로 추가 최적화

---

## 반론 및 검증

### 반론 1: "캐싱은 복잡도를 증가시킨다"
**유효성**: 부분적 유효
**대응**:
- Redis 도입으로 복잡도 최소화
- 캐시 무효화 정책 명확화
- 모니터링 추가

### 반론 2: "아키텍처 변경이 필요하다"
**유효성**: 장기적으로 유효
**대응**:
- 현재는 과잉 투자
- 6개월 후 재검토

---

## 결론 및 권장사항

### 요약
[1-2문장 핵심 결론]

### 단기 조치 (1-2주)
1. [조치 1]
2. [조치 2]

### 중기 조치 (1-3개월)
1. [조치 1]
2. [조치 2]

### 장기 고려사항
- [고려 1]
- [고려 2]

### 성공 지표
- [지표 1]: 목표 [값]
- [지표 2]: 목표 [값]

---

## 부록

### A. 참고 자료
- [자료 1]
- [자료 2]

### B. 가정 목록
- [가정 1]: 검증 방법
- [가정 2]: 검증 방법

### C. 불확실성
- [불확실성 1]: 영향 [수준]
- [불확실성 2]: 영향 [수준]
```

## 분석 프레임워크

### SWOT 분석
```markdown
| Strengths | Weaknesses |
|-----------|------------|
| [S1] | [W1] |

| Opportunities | Threats |
|---------------|---------|
| [O1] | [T1] |
```

### Force Field 분석
```markdown
추진력 (+)          저항력 (-)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
성능 개선 필요 +++   기존 코드 복잡 --
사용자 요구 ++      리소스 부족 ---
기술 부채 해소 +    일정 압박 --
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
합계: +6            합계: -7
→ 저항력이 더 큼, 점진적 접근 필요
```

## 주의사항

- 시간이 오래 걸릴 수 있음 (미리 안내)
- 모든 분석이 필요하지 않을 수 있음 (사용자 확인)
- 결론은 반드시 실행 가능해야 함
- 불확실성을 숨기지 않음
