# Tests Review Skill

## λ©μ 
λ³€κ²½λ μ½”λ“μ— μ μ ν• ν…μ¤νΈκ°€ ν¬ν•¨λμ–΄ μμΌλ©°, ν…μ¤νΈ μμ²΄κ°€ μ μ„¤κ³„λμ—λ”μ§€ ν‰κ°€ν•©λ‹λ‹¤.

## ν•µμ‹¬ μ›μΉ™

> "ν…μ¤νΈ μ½”λ“λ„ μ μ§€λ³΄μν•΄μ•Ό ν•λ” μ½”λ“λ‹¤."

## κ²€ν†  κΈ°μ¤€

### ν…μ¤νΈ μ΅΄μ¬ μ—¬λ¶€
| μ²΄ν¬ | κΈ°μ¤€ |
|------|------|
| [ ] | μƒ κΈ°λ¥μ— λ€ν• ν…μ¤νΈ ν¬ν•¨ |
| [ ] | λ²„κ·Έ μμ •μ— νκ·€ ν…μ¤νΈ ν¬ν•¨ |
| [ ] | ν•µμ‹¬ κ²½λ΅(happy path) ν…μ¤νΈλ¨ |
| [ ] | μ—£μ§€ μΌ€μ΄μ¤ ν…μ¤νΈλ¨ |
| [ ] | μ—λ¬ μΌ€μ΄μ¤ ν…μ¤νΈλ¨ |

### ν…μ¤νΈ ν’μ§
| μ²΄ν¬ | κΈ°μ¤€ |
|------|------|
| [ ] | ν…μ¤νΈ μ΄λ¦„μ΄ λ…ν™• (λ¬΄μ—‡μ„ ν…μ¤νΈν•λ”μ§€) |
| [ ] | ν•λ‚μ ν…μ¤νΈ = ν•λ‚μ κ°λ… |
| [ ] | Given-When-Then λλ” Arrange-Act-Assert κµ¬μ΅° |
| [ ] | ν…μ¤νΈ λ…λ¦½μ„± (μμ„ λ¬΄κ΄€) |
| [ ] | μ μ ν• assertion μ‚¬μ© |

### ν…μ¤νΈ μ ν• μ μ μ„±
| λ³€κ²½ μ ν• | ν•„μ” ν…μ¤νΈ |
|-----------|-------------|
| μ ν‹Έ ν•¨μ | Unit test |
| API μ—”λ“ν¬μΈνΈ | Integration test |
| UI μ»΄ν¬λ„νΈ | Component test |
| μ‚¬μ©μ ν”λ΅μ° | E2E test |

## Red Flags (κ²½κ³  μ‹ νΈ)

- π« ν…μ¤νΈ μ—†μ΄ λ³µμ΅ν• λ΅μ§ μ¶”κ°€
- π­ ν•­μƒ ν†µκ³Όν•λ” λ¬΄μλ―Έν• ν…μ¤νΈ
- π”— μ™Έλ¶€ μ„λΉ„μ¤μ— μμ΅΄ν•λ” λ‹¨μ„ ν…μ¤νΈ
- β° λ¶μ•μ •ν•(flaky) ν…μ¤νΈ
- π“ μ£Όμ„ μ²λ¦¬λ ν…μ¤νΈ
- π― κµ¬ν„ μ„Έλ¶€μ‚¬ν•­ ν…μ¤νΈ (λ¦¬ν©ν† λ§ν•λ©΄ κΉ¨μ§€λ”)

## ν…μ¤νΈ μ•ν‹°ν¨ν„΄

### 1. κµ¬ν„ ν…μ¤νΈ (Fragile Test)
```python
# Bad: κµ¬ν„ μ„Έλ¶€μ‚¬ν•­μ— μμ΅΄
def test_user_creation():
    user = User("John")
    assert user._internal_id == "john_123"  # private ν•„λ“

# Good: λ™μ‘ ν…μ¤νΈ
def test_user_creation():
    user = User("John")
    assert user.name == "John"
    assert user.is_valid()
```

### 2. κ±°λ€ν• ν…μ¤νΈ (Giant Test)
```python
# Bad: ν• ν…μ¤νΈμ— μ—¬λ¬ κ°λ…
def test_everything():
    user = create_user()
    assert user.is_valid()
    order = user.create_order()
    assert order.total > 0
    payment = process_payment(order)
    assert payment.success

# Good: λ¶„λ¦¬λ ν…μ¤νΈ
def test_user_creation(): ...
def test_order_creation(): ...
def test_payment_processing(): ...
```

### 3. λ¨ν‚Ή κ³Όλ‹¤
```python
# Bad: λ¨λ“  κ²ƒμ„ mock
def test_service():
    mock_db = Mock()
    mock_cache = Mock()
    mock_logger = Mock()
    mock_config = Mock()
    # ... μ‹¤μ  ν…μ¤νΈλ³΄λ‹¤ setupμ΄ λ” κΉ€

# Good: ν•„μ”ν• κ²ƒλ§ mock
def test_service():
    mock_external_api = Mock(return_value={"status": "ok"})
    # λ‚΄λ¶€ μμ΅΄μ„±μ€ μ‹¤μ  μ‚¬μ©
```

## μ§λ¬Έ μμ‹

```markdown
**[Major]** src/services/payment.py:45

`process_refund()` ν•¨μκ°€ μ¶”κ°€λμ—λ”λ° ν…μ¤νΈκ°€ μ—†μµλ‹λ‹¤.
ν™λ¶ λ΅μ§μ€ κΈμ „μ  μν–¥μ΄ μμΌλ―€λ΅ μµμ†ν• λ‹¤μ μΌ€μ΄μ¤μ ν…μ¤νΈκ°€ ν•„μ”ν•©λ‹λ‹¤:
- μ •μƒ ν™λ¶
- λ¶€λ¶„ ν™λ¶
- μ΄λ―Έ ν™λ¶λ μ£Όλ¬Έ
- ν™λ¶ κΈμ•΅ μ΄κ³Ό

```

```markdown
**[Minor]** tests/test_user.py:23

ν…μ¤νΈ μ΄λ¦„ `test_1()`μ€ λ¬΄μ—‡μ„ ν…μ¤νΈν•λ”μ§€ μ• μ μ—†μµλ‹λ‹¤.
`test_user_creation_with_valid_email()` κ°™μ΄ λ…ν™•ν• μ΄λ¦„μ„ κ¶μ¥ν•©λ‹λ‹¤.
```

## ν…μ¤νΈ μ»¤λ²„λ¦¬μ§€ κ°€μ΄λ“

### λ°λ“μ‹ ν…μ¤νΈ
- π’° λ/κ²°μ  κ΄€λ ¨ λ΅μ§
- π” μΈμ¦/κ¶ν• λ΅μ§
- π“ λ°μ΄ν„° λ³€ν™ λ΅μ§
- π”„ μƒνƒ λ³€κ²½ λ΅μ§

### ν…μ¤νΈ μ„ νƒμ 
- π“ λ‹¨μ CRUD
- π¨ μμ UI μ¤νƒ€μΌλ§
- π“‹ μ„¤μ •/μƒμ μ •μ

## DO / DON'T

### DO
- ν…μ¤νΈ μ¶”κ°€ μ”μ²­ μ‹ κµ¬μ²΄μ μΈ μΌ€μ΄μ¤ μ μ‹
- ν…μ¤νΈ κ°€λ…μ„±λ„ κ²€ν† 
- ν…μ¤νΈκ°€ μ‹¤μ λ΅ μλ―Έ μλ”μ§€ ν™•μΈ

### DON'T
- 100% μ»¤λ²„λ¦¬μ§€ κ°•μ”
- λ¨λ“  λ³€κ²½μ— ν…μ¤νΈ μ”κµ¬ (trivial λ³€κ²½ μ μ™Έ)
- κΈ°μ΅΄ ν…μ¤νΈ μ¤νƒ€μΌ λ¬΄μ‹ν•κ³  μƒ μ¤νƒ€μΌ κ°•μ”
