# 오류 케이스 분석 및 해결

테스트 케이스를 돌리면서 이상하게 나온 경우의 수에 대한 기록입니다. 차후 삭제될 수 있습니다.

### GB: 기가바이트

기가바이트와 같은 '단위'를 나타내는 영어에 대한 예외 케이스를 처리하는 로직을 추가해야겠습니다.
그냥 GB -> 기가바이트로 사전에 추가해버리면 진짜로 GB를 이니셜로 쓰는 케이스를 처리하지 못 합니다. 
앞 단어에서 숫자가 나오는지를 체크하면서 바꾸는 로직이 필요해보이네요.

english:GB -> korean:지비
original:GPU 메모리가 12GB 중 11.3GB 사용 중입니다.
normalized:지피유 메모리가 투웰브지비 중 십일쓰리지비 사용 중입니다
Time taken: 0.003000020980834961 seconds

english:km -> korean:케이엠
original:집에서 회사까지 12.3km 걸립니다.
normalized:집에서 회사까지 십이쓰리케이엠 걸립니다
Time taken: 0.0021233558654785156 seconds

english:ms -> korean:미즈
original:서버 응답 시간이 120ms입니다.
normalized:서버 응답 시간이 원투오미즈입니다
Time taken: 0.0 seconds

이것도 꽤 어려울 수도 있겠네요. m/s는 보통 '밀리 퍼 세컨트' 처럼 발음합니다. '밀리그램 퍼 리터' 이렇게 발음할 거 같은데 우리는 mg, /, dL 로 읽을 테니까요. 일단 mg 등을 제대로 발음하는 것에 집중해보죠. 생각해보니 그냥 사전에 넣는게 나을 수도 있습니다. "몇 mg 인가요?" 는 숫자가 없으니까 말이죠. 

english:mg -> korean:엠지
english:dL -> korean:디엘
original:콜레스테롤 수치가 235mg/dL 입니다.
normalized:콜레스테롤 수치가 투쓰리파이브엠지슬래쉬디엘 입니다
Time taken: 0.0010018348693847656 seconds

### 숫자 사이에 쉼표(해결)

정규식을 통해서 해결했습니다. "...라데온 2, 100년 뒤에..." 처럼 쉼표 사이 공백이 있는 경우는 잡아내지 않도록 설계했습니다.

original:데이터는 총 1,024개 샘플로 구성됩니다.
normalized:데이터는 총 일스물네개 샘플로 구성됩니다
Time taken: 0.0019998550415039062 seconds


### 점(.)은 항상 문장에 끝에 오는 것이 아니다!

조금 간과했던 것 같습니다. '삼점십일' 또 생각해볼 수 있는 케이스는 날짜입니다. 1996.06.15 등이 있습니다. 
생각해볼만한 것은 애초에 처리할 때 무조건 "문장" 단위로 처리하는 것으로 하는 것입니다. 무조건 문장 단위로 처리 후, 매번 문장 마지막이 "."인 것을 체크해서 마침표가 들어가있는 문장은 그냥 삭제해버리고 앞으로 .을 전부 점으로 해결하는 것이 좋아보이네요. 또한 SF가 오는 것으로 새로운 문장이 시작한다고 판단했던 것을 취소해야겠습니다. 아마 해당 함수들을 조금 수정해야겠네요.

english:Python -> korean:파이썬
original:Python 3.11 버전에서 에러가 발생했습니다.
normalized:파이썬 쓰리십일 버전에서 에러가 발생했습니다
Time taken: 0.0013935565948486328 seconds

같은 문제지만 추가적인 문제도 있네요 달러를 앞에 쓰는 경우도 존재는 하긴 할겁니다. 근데 이건 거의 없는 케이스같네요. 달러 십이점구십구로 읽기만 해도 문제는 없어보여요.

original:이번 달 구독료는 $12.99 입니다.
normalized:이번 달 구독료는 달러십이구십구 입니다
Time taken: 0.0010993480682373047 seconds


### 시간을 제대로 체크하지 못 한다!!

저번에도 조금 걱정되는 포인트였는데 역시 문제가 발생했습니다. 9시 10분으로 읽어야 하는데 사실 쉽지만은 않을 거 같네요. 생각해볼만한 점은 정규식을 통한 체크인데 문제는 우리는 형태소로 나누니 실제로는 "9", ":", "10" 이렇게 분해됐을 것입니다. 그러면 선처리로 처리해야할 수도 있겠네요. 정규식을 너무 추가하면 속도에 지장을 주는지 생각해봐야겠습니다.

original:오늘 출근 시간이 9:10이었습니다.
normalized:오늘 출근 시간이 구땡땡일영이었습니다
Time taken: 0.0019998550415039062 seconds

original:회의가 14:30부터 진행됩니다.
normalized:회의가 일사땡땡삼영부터 진행됩니다
Time taken: 0.0010013580322265625 seconds


### ~는 '에서'로 발음되기도 한다. 

문제는 문장 끝에 ~를 붙일 수도 있다는 겁니다. 숫자로만 구분한다고 해도 서론~결론 처럼 발음할 수도 있네요 심지어 정확히는 1장 '부터' 12장 "까지" 혹은 서론"부터" 결론"까지" 라고 발음하네요. 어떻게 해결할지 생각을 해봐야겠네요.

original:이번 시험 범위는 1~12장입니다.
normalized:이번 시험 범위는 일십이장입니다
Time taken: 0.0010023117065429688 seconds


### 조사 처리에 문제가 있다

엘알은원이다시오 인데 말이죠 는으로 나온거 보니 조사처리 부분에서 조금 문제가 있나보네요.

english:lr -> korean:엘알
english:e -> korean:이
original:오늘 학습률은 lr=1e-5 로 설정합니다.
normalized:오늘 학습률은 엘알는원이다시오 로 설정합니다
Time taken: 0.0009622573852539062 seconds


### 영어는 도중에 '가 들어가는 경우가 있다!

don't, I'm 등 줄임말에 '를 넣는 경우가 있으니 이것도 예외처리 케이스에 넣어줘야겠네요. 현재 영어 로직으로는 처리하기 어려울 수 있을 거 같아요.

english:don -> korean:돈
english:t -> korean:톤
english:overthink -> korean:오버띵크
english:it -> korean:잇
original:친구가 갑자기 “don’t overthink it”이라고 해줬어요.
normalized:친구가 갑자기 돈톤 오버띵크 잇이라고 해줬어요 .
Time taken: 0.44948697090148926 seconds